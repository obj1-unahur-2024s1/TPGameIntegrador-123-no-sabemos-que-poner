import hogwarts.*
import hechizos.*

class CriaturaMagica {
	var property salud = 0
	var property esInmune = false
	const property puedeLanzarHechizo = false
	
	method recibirHechizo(hechizo) {
		hechizo.consecuencias(self)
	}
}

class Estudiante {
	var property salud = 0
	var property nivelDeHabilidad = 0
	var property sangre = ""
	var casa = ""
	const hechizos = []
	const property puedeLanzarHechizo = true
	var clase = null
	
	method casa() = ""
	
	method casa(sombrero) {casa = sombrero}
	
	method esPeligroso() = false
	
	method asistirAClase(materia) {
		materia.inscribirEstudiante()
		clase = materia
	}
	
	method darMateriaDeBaja() {
		clase.cancelarInscripcion()
		clase = null
	}
	
	method lanzarHechizo(hechizo) {
		hechizos.add(clase.hechizoActual())
		nivelDeHabilidad = nivelDeHabilidad + 1
		hechizo.consecuencias(self)
	}
	
	method recibirHechizo(hechizo) {
		hechizo.consecuencias(self)
	}
}

class EstudianteGriffindor inherits Estudiante {
	
	override method casa() = "Gryffindor"
	
	override method esPeligroso() = false 
}

class EstudianteSlytherin inherits Estudiante {
	
	override method casa() = "Slytherin"
	
	override method esPeligroso() = salud != 0
}

class EstudianteRavenclaw inherits Estudiante {
	
	override method casa() = "Ravenclaw"
	
	override method esPeligroso() =  salud != 0 and nivelDeHabilidad > 10
}

class EstudianteHufflepuff inherits Estudiante {
	
	override method casa() = "Hufflepuff"
	
	override method esPeligroso() = salud != 0 and sangre == "Pura" 
}












