import wollok.game.*
import juego.*
import player.*

const dondeAparecer = []

class ItemEnNivel{
	
	method spawnFood() {
    const foodPosition = self.randomEmptyPosition()
    game.addVisualIn("food", foodPosition)
	}

	method randomEmptyPosition() {
	 const position = self.randomPosition()
	
	return  if (self.positionIsOccupied(position)) {self.randomEmptyPosition()} 
				else {position}
	}

	method randomPosition() {
    return game.at((1.randomUpTo(game.width() - 1)), (1.randomUpTo(game.height() - 1)))
	}


method positionIsOccupied(pos) {
    return lasPartesDeSnake.any{ parte => parte.position() == pos }
}
}

class Manzana inherits ItemEnNivel {
	var property image = "manzana.png"
	
	override method spawnFood() {
		const posicion = self.randomEmptyPosition()
		game.addVisualIn(image, posicion)
	}
}