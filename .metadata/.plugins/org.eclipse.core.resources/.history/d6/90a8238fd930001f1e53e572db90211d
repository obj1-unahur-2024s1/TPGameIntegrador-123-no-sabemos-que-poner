import wollok.game.*
import juego.*
import player.*

const dondeAparecer = []

class ItemEnNivel{
	var property posicion = self.posicionAlAzarVacia()
	var property image = ""

	method posicionAlAzarVacia() {
	 const position = self.posicionRandom()
	
		return if (self.estaOcupadaLaPosicion(position)) {self.posicionAlAzarVacia()} 
				else {position}
	}

	method posicionRandom() {
    	return game.at((1.randomUpTo(game.width() - 1)), (1.randomUpTo(game.height() - 1)))
	}


	method estaOcupadaLaPosicion(pos) {
    	return lasPartesDeSnake.any{ parte => parte.position() == pos }
	}
	
	method colisionar() {
		game.removeVisual(image)
		game.addVisualIn(image, posicion)
	}
}